#### 1. 实验设置

1.1 舌象数据预处理

HBV-ACLF 舌象数据集，包括：舌体、舌质、舌苔、舌下脉络、舌脉象

初步处理后：

> ```
> # 舌体种类
> KIND_TONGUE_POSTURE = { '舌体-胖大齿痕':'胖大边有齿痕|胖大，边有齿痕','舌体-正常':'正常|正常正常', '舌体-瘦':'瘦', '舌体-胖大':'胖大', '舌体-齿痕':'边有齿痕|正常边有齿痕'}
> # 舌质种类-舌色5种：淡红，淡白，红，绛，青紫
> KIND_TONGUE_COLOR = { '舌质-暗紫红':'暗紫红','舌质-淡红':'淡红|淡红嫩|稍红', '舌质-红绛':'暗红|红暗|红绛|淡暗红',  '舌质-暗紫':'暗紫|红暗紫',
>                      '舌质-红':'红|红嫩','舌质-暗':'暗|淡暗|暗淡','舌质-淡白':'淡白|淡'} 
> # 脉象种类:弦、滑、细、数、弱、沉。。。（可拆分）
> KIND_TONGUE_PULSE = {'脉象-细沉数弦':'细沉数弦','脉象-细数弦':'细数弦',
>                     '脉象-弦滑':'弦滑|滑弦', '脉象-弦数':'弦数', '脉象-弦细':'弦细', '脉象-细弱':'细弱', 
>                     '脉象-沉细':'沉细', '脉象-实弦':'实弦', '脉象-弦弱':'弦弱','脉象-弦缓':'弦缓',
>                     '脉象-细':'细','脉象-弦':'弦|弦弦', '脉象-濡':'濡',  '脉象-实':'实', '脉象-滑':'滑'} 
> # 舌苔种类:1,质（薄，厚，润，燥，腻，腐，剥，偏，全，真，假）;2,色（白，黄，灰黑）。。（可拆分）
> KIND_TONGUE_FUR = {'舌苔-厚腻腐黄白':'厚腻腐黄白','舌苔-白腻中间有裂痕':'白腻中间有裂痕', '舌苔-湿润白腻厚':'湿润白厚腻',
>                     '舌苔-薄黄厚腻':'薄黄厚腻', '舌苔-白灰黑腻':'白灰黑腻', '舌苔-干燥灰黑腻黄':'干燥灰黑腻黄','舌苔-湿润黄少':'湿润黄少', 
>                     '舌苔-白湿润腻':'白湿润腻', '舌苔-厚腻湿润':'厚腻湿润', '舌苔-黄干燥少':'黄干燥少', '舌苔-湿润黄腻':'湿润黄腻',
>                     '舌苔-腻湿润':'腻湿润', '舌苔-白黄腻':'白黄腻|白腻黄', '舌苔-腐黄腻':'腐黄腻',
>                     '舌苔-薄黄腻':'薄黄腻|腻薄黄', '舌苔-黄腻少':'黄腻少', '舌苔-黄厚腻':'腻厚黄|黄腻厚|厚腻黄|黄厚腻.', 
>                     '舌苔-少薄黄':'少薄黄', '舌苔-黄干燥':'黄干燥','舌苔-腻白少':'白腻少', '舌苔-腻白厚':'白腻厚|白厚腻',
>                     '舌苔-腻白':'白腻|腻白|白微腻', '舌苔-腻黄':'黄腻|腻黄|腻略黄',
>                     '舌苔-薄白':'薄白', '舌苔-白少':'少白','舌苔-白厚':'白厚','舌苔-黄少':'黄少','舌苔-黄厚':'黄厚', '舌苔-腻少':'少腻','舌苔-湿润':'湿润',
>                     '舌苔-白':'白','舌苔-黄':'黄','舌苔-少':'少','舌苔-腻':'腻'} 
> # 舌下脉络种类（可拆分）
> KIND_SUBLINGUAL_VEIN = {'脉络-正常':'脉络正常|舌下脉络正常', '脉络-瘀点迂曲':'瘀点脉络迂曲','脉络-迂曲':'脉络迂曲', '脉络-瘀斑':'瘀斑或瘀条|瘀点',
>                      '脉络-增粗':'脉络增粗|舌下脉络增粗延长|脉络增粗延长'} 
> ```

再将其拆分与合并，其具体过程见：

[舌象数据规范化]: /Users/haer9000/Documents/codes/python_code/liver_disease/liver_disease/normalization/tongue_record_normalization.py

最终确定 37 个特征：

| 舌体-正常 | 舌体-瘦 | 舌体-胖大 | 舌体-齿痕 | 脉络-增粗 | 脉络-正常 | 脉络-瘀斑 | 脉络-迂曲 | 舌质-暗 | 舌质-暗紫 | 舌质-暗紫红 | 舌质-淡白 | 舌质-淡红 | 舌质-红 | 舌质-红绛 | 舌苔-少 | 舌苔-白 | 舌苔-白少 | 舌苔-腻 | 舌苔-薄白 | 舌苔-薄黄腻 | 舌苔-黄 | 舌苔-灰黑 | 舌苔-薄 | 舌苔-厚 | 舌苔-润 | 舌苔-燥 | 舌苔-腐 | 舌苔-裂 | 脉象-实 | 脉象-弦 | 脉象-滑 | 脉象-濡 | 脉象-细 | 脉象-数 | 脉象-弱 | 脉象-沉 |
| --------- | ------- | --------- | --------- | --------- | --------- | --------- | --------- | ------- | --------- | ----------- | --------- | --------- | ------- | --------- | ------- | ------- | --------- | ------- | --------- | ----------- | ------- | --------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- |
|           |         |           |           |           |           |           |           |         |           |             |           |           |         |           |         |         |           |         |           |             |         |           |         |         |         |         |         |         |         |         |         |         |         |         |         |         |

1.2 实验

（1）将已规范化后的舌象数据与分型数据进行合并；

（2）使用 SMOTE 进行合成采样

1.3 结果

1.3.1 生成一次样本，运行一次

**模型: Logisitic RegressionCV**
平均精度： [0.8974029771398193, 0.7830062908106388]
平均 f1： [0.8093474674536367, 0.8409273185443397]
平均召回率： [0.7422077922077921, 0.9112554112554113]
平均准确度： 0.8273532668881506

**模型: SVC**
平均精度： [0.8866118113912231, 0.7653807126850605]
平均 f1： [0.7927444931851296, 0.8292206982966661]
平均召回率： [0.719047619047619, 0.9062770562770563]
平均准确度： 0.81312292358804

**模型: Random Forest**
平均精度： [0.9068776432284306, 0.8545281385281385]
平均 f1： [0.8711469411960501, 0.8805430390444948]
平均召回率： [0.8415584415584416, 0.9112554112554113]
平均准确度： 0.8763565891472866

**模型: Decision Tree**
平均精度： [0.9161386308909529, 0.7715920528746615]
平均 f1： [0.8016403136745959, 0.8419258286651766]
平均召回率： [0.7188311688311689, 0.92987012987013]
平均准确度： 0.8246400885935768

**模型: Adaboost**
平均精度： [0.827062229173886, 0.7572269623903017]
平均 f1： [0.7651494165398476, 0.7906230752976684]
平均召回率： [0.724025974025974, 0.8361471861471861]
平均准确度： 0.7805647840531561

1.3.2 生成10次样本，求出10次均值与标准差

**模型: Logisitic RegressionCV**
std_precision:  [0.06598669805809429, 0.06460962856414482]
std_f1:  [0.056401009410244785, 0.05284839789452951]
aver_f1: [0.7948151486215245, 0.8218373406022919]
aver_precision [0.8522658166249928, 0.7780058475517453]

**模型: SVC**
std_precision:  [0.07756806369780253, 0.05448731837034153]
std_f1:  [0.033695080197340625, 0.043619884574873424]
aver_f1: [0.7746370348432772, 0.8023108847607704]
aver_precision [0.8361817954644353, 0.7622539360012134]

**模型: Random Forest**
std_precision:  [0.04867824651640219, 0.05829780162946203]
std_f1:  [0.04563485169051995, 0.04142045271824114]
aver_f1: [0.8566681011295776, 0.8697888361320899]
aver_precision [0.8942555891356546, 0.8420499088385656]

**模型: Decision Tree**
std_precision:  [0.07179286495108059, 0.060814443684701416]
std_f1:  [0.06283344421566282, 0.045813273587051666]
aver_f1: [0.7631877588796481, 0.8134812535970051]
aver_precision [0.879503375453505, 0.7476757188334766]

**模型: Adaboost**
std_precision:  [0.0636916216687003, 0.05102730971417403]
std_f1:  [0.04412091230192326, 0.048530603796956305]
aver_f1: [0.7894539630188014, 0.8173143481600758]
aver_precision [0.8520640438503728, 0.7699286241335357]